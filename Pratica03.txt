create database bdpratica03;
use bdpratica03;

create table departamento(
nome varchar(100) not null,
cod_dapart int primary key auto_increment,
data_inicial date


);



create table funcionarios(
cod_func int primary key auto_increment,
nome varchar(100)not null,
cpf varchar(15),
salario decimal(4,2) check(salario>=1000),
sexo char(1) check(sexo in('m','f')),
endereço varchar(252),
cod_super int null,
cod_dapart int,
foreign key (cod_super) references funcionarios(cod_func),
foreign key (cod_dapart) references departamento(cod_dapart)




);



create table dependente(
cod_func int not null,
seq int not null,
nome varchar(100) not null,
parentesco varchar(30) not null check(parentesco in("PAI","Mãe","IRMÃOS","FILHO")),
data_nasc date,
primary key (cod_func,seq),
foreign key  (cod_func) references funcionarios(cod_func)


);
commit;
create table localizacao(
iddepart int ,
LOCALL varchar(252) not null,
foreign key (iddepart) references departamento(cod_dapart),
primary key (iddepart,LOCALL)
);
create table projeto(
cod_proj int ,
cod_depart int,
titulo varchar(252),
descricao varchar(252),
data_cad date,
primary key (cod_proj,cod_depart),
foreign key (cod_depart) references departamento(cod_dapart)
);
create table participa(
cod_func int,
cod_proj int,
horas varchar(50),
primary key(cod_func,cod_proj),
foreign key (cod_proj)references projeto(cod_proj),
foreign key (cod_func)references funcionarios(cod_func)


)
